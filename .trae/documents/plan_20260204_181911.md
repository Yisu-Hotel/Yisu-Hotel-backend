## PostgreSQL 数据库文档编写计划

### 文档结构
在 `database-document.md` 中创建完整的数据库设计文档，包含以下模块：

### 1. 数据库设计概述
- 数据库类型：PostgreSQL
- 设计原则：规范化、一致性、可扩展性
- 命名规范：小写字母+下划线（snake_case）

### 2. 表结构设计
- **users 表** - 用户信息（ID、账号、密码、角色、昵称）
- **hotels 表** - 酒店信息（ID、名称、地址、星级、开业时间、状态、创建人）
- **hotel_prices 表** - 房型价格（ID、酒店ID、房型、价格）
- **audit_logs 表** - 审核日志（ID、酒店ID、审核人、审核时间、结果、拒绝原因）
- **hotel_history 表** - 酒店历史记录（ID、酒店ID、版本号、修改人、修改时间、修改内容）

### 3. 表字段详细说明
- 所有表的主键、外键、索引、约束
- 字段类型、长度限制、默认值
- 枚举类型定义（状态、角色等）

### 4. 索引设计
- users: account（唯一索引）、role
- hotels: created_by、status、hotel_name_cn（全文索引）
- hotel_prices: hotel_id、room_type（复合唯一索引）
- audit_logs: hotel_id、audited_at
- hotel_history: hotel_id、version

### 5. 关系设计
- users → hotels (1:N，created_by)
- hotels → hotel_prices (1:N)
- hotels → audit_logs (1:N)
- hotels → hotel_history (1:N)
- users → audit_logs (1:N，auditor)

### 6. 数据类型定义
- 用户角色枚举：merchant、admin
- 酒店状态枚举：draft、pending、auditing、approved、rejected、published、offline
- 审核结果枚举：approved、rejected
- 时间字段统一使用 TIMESTAMP WITH TIME ZONE

### 7. 特殊说明
- **用户不具有虚拟形象**：users 表不包含 avatar 字段
- **地址标准化**：使用 formatted_address + address_component 结构
- **价格结构**：room_prices 表支持多房型不同价格
- **审核流程**：pending → auditing → approved/rejected → published/offline

### 8. SQL 示例
- 建表语句（CREATE TABLE）
- 插入示例（INSERT）
- 查询示例（SELECT）
- 索引创建语句（CREATE INDEX）